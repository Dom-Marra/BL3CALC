@import "../../styles.scss";

.skill-tree-container {
    height: 100%;
    width: 100%;
    display: inline-block;
}

.tree {
    overflow: visible;
    
    .top-border,
    .special-skill-border {
        stroke: black;
        stroke-width: 4px;
        fill: none;
        paint-order: stroke fill;
    }

    .middle-border,
    .special-skill-mid-border {
        stroke-width: 3px;
        fill: none;
        paint-order: stroke fill;
    }

    .main-back,
    .special-skill-main {
        stroke: black;
        stroke-width: 1px;
        paint-order: stroke fill;
    }

    .special-skill-border {
        stroke-dasharray: 68,92,80,0;
    }
    
    .special-skill-main, 
    .special-skill-mid-border {
        stroke-dasharray: 72,87,80,0;
    }
    
    
    .main-front {
        stroke-width: 3px;
        stroke: black;
        paint-order: stroke fill;
    }

    .tree-name,
    .points {
        font-family: 'Teko';
    }


    .tree-name {
        font-size: 28px;
        font-style: italic;
    }

    .points {
        text-shadow: 3px 3px 4px black;
        font-size: 18px;
        fill: white;
    }
    

    &.red {
        
        .special-skill-mid-border,
        .middle-border {
            stroke: rgb(195, 121, 71);
        }

        .special-skill-main,
        .main-back {
            fill: rgb(93, 41, 11);
        }

        .main-front {
            fill: url(#red-fill);
        }

        .tree-name {
            fill: rgb(255, 238, 190);
        }

        .skill.activated {
            image {
                filter: url(#activated-red);
            }
            .points {
                fill: rgb(255, 211, 120);
            }
        }
    }

    &.blue {

        .special-skill-border,
        .top-border {
            stroke: rgb(18, 49, 81);
        }

        .special-skill-mid-border,
        .middle-border {
            stroke: rgb(57, 133, 199);
        }

        .special-skill-main,
        .main-back {
            fill: rgb(14, 34, 56);
            stroke: rgb(3, 12, 22);
        }
        
        .main-front {
            fill: url(#blue-fill);
        }
    
        .tree-name {
            fill: rgb(175, 219, 254);
        }

        .skill.activated {
            image {
                filter: url(#activated-blue);
            }
            .points {
                fill: cyan;
            }
        }
    }

    &.green {

        .special-skill-mid-border,
        .middle-border {
            stroke: rgb(149, 203, 94);
        }
    
        .special-skill-main,
        .main-back {
            fill: rgb(61, 93, 23);
        }
        
        .main-front {
            fill: url(#green-fill);
        }
    
        .tree-name {
            fill: rgb(246, 221, 155);
        }

        .skill.activated {
            image {
                filter: url(#activated-green);
            }
            .points {
                fill: rgb(205, 255, 147);
            }
        }

    }

    .skill.activated:hover {
        image, .points {
            filter: none;
        }
    }

    .skill:focus {
        outline-style: none;
        box-shadow: none;
        border-color: transparent;
    }
    
    .skill:hover,
    .skill.activated:hover,
    .skill.disabled:hover {
        filter: none;
        cursor: pointer;

        &:not(.disabled) {
            .left-right-select {
                display: inline-block;
            }
        }
        
        image {
            filter: url(#highlight);
        }
    
        .points {
            fill: yellow;
        }

        .skill-description {
            visibility: visible;
            z-index: 4;
        }
    }

    .tree-reset {
        font-family: Verdana;

        &:hover {
            cursor: pointer;

            rect {
                fill: lighten($color: rgba(158, 45, 45, 0.65), $amount: 15%);
            }
        }   

        rect {
            transition: fill 0.3s;
            fill: rgba(158, 45, 45, 0.65);
            stroke: darken($color: rgb(158, 45, 45), $amount: 15%);
        }

        text {
            fill: white;
        }
    }

    .left-right-select {
        font-family: Verdana;
        font-size: 14px;
        display: none;

        rect {
            fill: $primary-color;
            stroke: $primary-accent-color;
        }

        text {
            fill: white;
            font-size: 80%;
        }
    }

    .left-right-select:hover {
        rect {
            fill: lighten($color: $primary-color, $amount: 15%);
        }
    }
}

.disabled {
    image, text {
        filter: url(#skill-disabled);
    }
}


@-moz-document url-prefix() {
    .skill-tree-container {
        .tree {
            .disabled {
                image, text {
                    filter: brightness(0.7);
                }
            }
        }
    }
 }